import{c as se,f as D,u as M,a as L,b as xe,j as e,U as Ce,d as O,g as U,e as re,h as be,I as ne,i as je,r as X,B,p as te,k as A,l as le,m as ie,n as E,o as fe,q as we,s as ye,S as P,t as F,G as d,v as Y,w as Z,x as ee,T as ae,y as oe,z as ke,A as _e}from"./index-PTjFC09f.js";import{C as z}from"./ConfigCard-Bm8nn3Gy.js";import{T as g}from"./TextInput-DMiFZDiy.js";import{P as ce}from"./PasswordInput-BgN-ywAC.js";import{u as Ie}from"./useConfiguration-BA0L4BRG.js";import{I as Se}from"./IconDownload-CPWeDuNP.js";import{I as Pe}from"./IconWifi-BlrcCQzB.js";import{I as Re}from"./IconDeviceMobile-oBtjKkiU.js";const[Te,de]=se(),[Ne,Ge]=se();var ue={card:"m_9dc8ae12"};const ze={withBorder:!0},Ae=O((a,{radius:n})=>({card:{"--card-radius":U(n)}})),V=D((a,n)=>{const r=M("RadioCard",ze,a),{classNames:s,className:t,style:c,styles:i,unstyled:l,vars:u,checked:o,mod:x,withBorder:j,value:k,onClick:_,name:w,onKeyDown:f,...N}=r,R=L({name:"RadioCard",classes:ue,props:r,className:t,style:c,classNames:s,styles:i,unstyled:l,vars:u,varsResolver:Ae,rootSelector:"card"}),{dir:y}=xe(),m=de(),I=typeof o=="boolean"?o:(m==null?void 0:m.value)===k||!1,S=w||(m==null?void 0:m.name),G=p=>{if(f==null||f(p),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(p.nativeEvent.code)){p.preventDefault();const v=Array.from(document.querySelectorAll(`[role="radio"][name="${S||"__mantine"}"]`)),T=v.findIndex($=>$===p.target),C=T+1>=v.length?0:T+1,h=T-1<0?v.length-1:T-1;p.nativeEvent.code==="ArrowDown"&&(v[C].focus(),v[C].click()),p.nativeEvent.code==="ArrowUp"&&(v[h].focus(),v[h].click()),p.nativeEvent.code==="ArrowLeft"&&(v[y==="ltr"?h:C].focus(),v[y==="ltr"?h:C].click()),p.nativeEvent.code==="ArrowRight"&&(v[y==="ltr"?C:h].focus(),v[y==="ltr"?C:h].click())}};return e.jsx(Ne,{value:{checked:I},children:e.jsx(Ce,{ref:n,mod:[{"with-border":j,checked:I},x],...R("card"),...N,role:"radio","aria-checked":I,name:S,onClick:p=>{_==null||_(p),m==null||m.onChange(k||"")},onKeyDown:G})})});V.displayName="@mantine/core/RadioCard";V.classes=ue;const Ee={},q=D((a,n)=>{const{value:r,defaultValue:s,onChange:t,size:c,wrapperProps:i,children:l,name:u,readOnly:o,...x}=M("RadioGroup",Ee,a),j=re(u),[k,_]=be({value:r,defaultValue:s,finalValue:"",onChange:t}),w=f=>!o&&_(typeof f=="string"?f:f.currentTarget.value);return e.jsx(Te,{value:{value:k,onChange:w,size:c,name:j},children:e.jsx(ne.Wrapper,{size:c,ref:n,...i,...x,labelElement:"div",__staticSelector:"RadioGroup",children:e.jsx(je,{role:"radiogroup",children:l})})})});q.classes=ne.Wrapper.classes;q.displayName="@mantine/core/RadioGroup";function pe({size:a,style:n,...r}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:X(a),height:X(a),...n},"aria-hidden":!0,...r,children:e.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var he={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const De={icon:pe},Me=O((a,{radius:n,color:r,size:s,iconColor:t,variant:c,autoContrast:i})=>{const l=te({color:r||a.primaryColor,theme:a}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{indicator:{"--radio-size":E(s,"radio-size"),"--radio-radius":n===void 0?void 0:U(n),"--radio-color":c==="outline"?u:A(r,a),"--radio-icon-size":E(s,"radio-icon-size"),"--radio-icon-color":t?A(t,a):le(i,a)?ie({color:r,theme:a,autoContrast:i}):void 0}}}),H=D((a,n)=>{const r=M("RadioIndicator",De,a),{classNames:s,className:t,style:c,styles:i,unstyled:l,vars:u,icon:o,radius:x,color:j,iconColor:k,autoContrast:_,checked:w,mod:f,variant:N,disabled:R,...y}=r,m=o,I=L({name:"RadioIndicator",classes:he,props:r,className:t,style:c,classNames:s,styles:i,unstyled:l,vars:u,varsResolver:Me,rootSelector:"indicator"}),S=Ge(),G=typeof w=="boolean"?w:(S==null?void 0:S.checked)||!1;return e.jsx(B,{ref:n,...I("indicator",{variant:N}),variant:N,mod:[{checked:G,disabled:R},f],...y,children:e.jsx(m,{...I("icon")})})});H.displayName="@mantine/core/RadioIndicator";H.classes=he;var me={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const Fe={labelPosition:"right"},$e=O((a,{size:n,radius:r,color:s,iconColor:t,variant:c,autoContrast:i})=>{const l=te({color:s||a.primaryColor,theme:a}),u=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{root:{"--radio-size":E(n,"radio-size"),"--radio-radius":r===void 0?void 0:U(r),"--radio-color":c==="outline"?u:A(s,a),"--radio-icon-color":t?A(t,a):le(i,a)?ie({color:s,theme:a,autoContrast:i}):void 0,"--radio-icon-size":E(n,"radio-icon-size")}}}),b=D((a,n)=>{const r=M("Radio",Fe,a),{classNames:s,className:t,style:c,styles:i,unstyled:l,vars:u,id:o,size:x,label:j,labelPosition:k,description:_,error:w,radius:f,color:N,variant:R,disabled:y,wrapperProps:m,icon:I=pe,rootRef:S,iconColor:G,onChange:p,mod:v,...T}=r,C=L({name:"Radio",classes:me,props:r,className:t,style:c,classNames:s,styles:i,unstyled:l,vars:u,varsResolver:$e}),h=de(),$=(h==null?void 0:h.size)??x,ve=r.size?x:$,{styleProps:ge,rest:W}=fe(T),K=re(o),J=h?{checked:h.value===W.value,name:W.name??h.name,onChange:Q=>{h.onChange(Q),p==null||p(Q)}}:{};return e.jsx(we,{...C("root"),__staticSelector:"Radio",__stylesApiProps:r,id:K,size:ve,labelPosition:k,label:j,description:_,error:w,disabled:y,classNames:s,styles:i,unstyled:l,"data-checked":J.checked||void 0,variant:R,ref:S,mod:v,...ge,...m,children:e.jsxs(B,{...C("inner"),mod:{"label-position":k},children:[e.jsx(B,{...C("radio",{focusable:!0,variant:R}),onChange:p,...W,...J,component:"input",mod:{error:!!w},ref:n,id:K,disabled:y,type:"radio"}),e.jsx(I,{...C("icon"),"aria-hidden":!0})]})})});b.classes=me;b.displayName="@mantine/core/Radio";b.Group=q;b.Card=V;b.Indicator=H;/**
 * @license @tabler/icons-react v3.29.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var We=ye("outline","router","IconRouter",[["path",{d:"M3 13m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17l0 .01",key:"svg-1"}],["path",{d:"M13 17l0 .01",key:"svg-2"}],["path",{d:"M15 13l0 -2",key:"svg-3"}],["path",{d:"M11.75 8.75a4 4 0 0 1 6.5 0",key:"svg-4"}],["path",{d:"M8.5 6.5a8 8 0 0 1 13 0",key:"svg-5"}]]);const Be=({config:a,onChange:n})=>{var t,c,i,l,u;const r=o=>{n({...a,...o})},s=(o,x)=>{const j={ip:"",subnet:"",gateway:"",dns1:"8.8.8.8",dns2:"8.8.4.4"};n({...a,static_config:{...a.static_config||j,[o]:x}})};return e.jsxs(P,{gap:"md",children:[e.jsx(F,{label:"Enable Ethernet",checked:a.enabled,onChange:o=>r({enabled:o.currentTarget.checked})}),e.jsx(b.Group,{label:"IP Configuration Mode",value:a.mode,onChange:o=>r({mode:o}),children:e.jsxs(P,{gap:"xs",mt:"xs",children:[e.jsx(b,{value:"dhcp",label:"DHCP (Automatic)"}),e.jsx(b,{value:"static",label:"Static IP"})]})}),a.mode==="static"&&e.jsx(P,{gap:"sm",children:e.jsxs(d,{children:[e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"IP Address",placeholder:"192.168.1.100",value:((t=a.static_config)==null?void 0:t.ip)||"",onChange:o=>s("ip",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Subnet Mask",placeholder:"255.255.255.0",value:((c=a.static_config)==null?void 0:c.subnet)||"",onChange:o=>s("subnet",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Gateway",placeholder:"192.168.1.1",value:((i=a.static_config)==null?void 0:i.gateway)||"",onChange:o=>s("gateway",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Primary DNS",placeholder:"8.8.8.8",value:((l=a.static_config)==null?void 0:l.dns1)||"",onChange:o=>s("dns1",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Secondary DNS",placeholder:"8.8.4.4",value:((u=a.static_config)==null?void 0:u.dns2)||"",onChange:o=>s("dns2",o.currentTarget.value)})})]})})]})},Le=({config:a,onChange:n})=>{var t,c,i,l,u;const r=o=>{n({...a,...o})},s=(o,x)=>{const j={ip:"",subnet:"",gateway:"",dns1:"8.8.8.8",dns2:"8.8.4.4"};n({...a,static_config:{...a.static_config||j,[o]:x}})};return e.jsxs(P,{gap:"md",children:[e.jsx(F,{label:"Enable WiFi",checked:a.enabled,onChange:o=>r({enabled:o.currentTarget.checked})}),e.jsx(g,{label:"SSID (Network Name)",placeholder:"MyWiFiNetwork",value:a.ssid,onChange:o=>r({ssid:o.currentTarget.value}),required:!0}),e.jsx(ce,{label:"WiFi Password",placeholder:"Enter WiFi password",value:a.password||"",onChange:o=>r({password:o.currentTarget.value})}),e.jsx(b.Group,{label:"IP Configuration Mode",value:a.mode,onChange:o=>r({mode:o}),children:e.jsxs(P,{gap:"xs",mt:"xs",children:[e.jsx(b,{value:"dhcp",label:"DHCP (Automatic)"}),e.jsx(b,{value:"static",label:"Static IP"})]})}),a.mode==="static"&&e.jsx(P,{gap:"sm",children:e.jsxs(d,{children:[e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"IP Address",placeholder:"192.168.1.101",value:((t=a.static_config)==null?void 0:t.ip)||"",onChange:o=>s("ip",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Subnet Mask",placeholder:"255.255.255.0",value:((c=a.static_config)==null?void 0:c.subnet)||"",onChange:o=>s("subnet",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Gateway",placeholder:"192.168.1.1",value:((i=a.static_config)==null?void 0:i.gateway)||"",onChange:o=>s("gateway",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Primary DNS",placeholder:"8.8.8.8",value:((l=a.static_config)==null?void 0:l.dns1)||"",onChange:o=>s("dns1",o.currentTarget.value)})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Secondary DNS",placeholder:"8.8.4.4",value:((u=a.static_config)==null?void 0:u.dns2)||"",onChange:o=>s("dns2",o.currentTarget.value)})})]})})]})},Oe=({config:a,onChange:n})=>{const r=s=>{n({...a,...s})};return e.jsxs(P,{gap:"md",children:[e.jsx(F,{label:"Enable 4G Modem",checked:a.enabled,onChange:s=>r({enabled:s.currentTarget.checked})}),e.jsxs(d,{children:[e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"APN",placeholder:"internet",value:a.apn,onChange:s=>r({apn:s.currentTarget.value}),description:"Access Point Name from your carrier",required:!0})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(g,{label:"Username",placeholder:"Optional",value:a.username||"",onChange:s=>r({username:s.currentTarget.value})})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(ce,{label:"Password",placeholder:"Optional",value:a.password||"",onChange:s=>r({password:s.currentTarget.value})})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(Y,{label:"Network Mode",value:a.network_mode,onChange:s=>r({network_mode:s||"auto"}),data:[{value:"auto",label:"Auto (LTE/3G/2G)"},{value:"lte_only",label:"LTE Only"},{value:"3g_only",label:"3G Only"},{value:"2g_only",label:"2G Only"}]})}),e.jsx(d.Col,{span:{base:12,sm:6},children:e.jsx(Y,{label:"IP Version",value:a.ip_version,onChange:s=>r({ip_version:s||"ipv4"}),data:[{value:"ipv4",label:"IPv4"},{value:"ipv6",label:"IPv6"},{value:"ipv4v6",label:"IPv4/IPv6 (Dual Stack)"}]})})]})]})},Ye=()=>{const a=Ie(),[n,r]=Z.useState(null);Z.useEffect(()=>{a.networkConfig&&r(a.networkConfig)},[a.networkConfig]);const s=async()=>{if(!n){_e.show({message:"No configuration to save",color:"red"});return}try{await a.saveNetworkConfig(n)}catch{}};return e.jsxs(P,{gap:"md",children:[e.jsxs(ee,{justify:"space-between",wrap:"wrap",children:[e.jsx(ae,{size:"xl",fw:700,children:"Network Configuration"}),e.jsxs(ee,{wrap:"wrap",children:[e.jsx(oe,{variant:"light",leftSection:e.jsx(Se,{size:16}),onClick:()=>a.loadNetworkConfig(),loading:a.isLoading,children:"Get Config"}),e.jsx(oe,{onClick:s,loading:a.isLoading,disabled:!n,children:"Save Config"})]})]}),!n&&!a.isLoading&&e.jsx(ae,{c:"dimmed",ta:"center",py:"xl",children:'Click "Get Config" to load current network configuration'}),n&&e.jsxs(e.Fragment,{children:[e.jsx(z,{title:"Network Failover",icon:e.jsx(ke,{size:20}),children:e.jsx(F,{label:"Enable Network Failover",description:"Automatically switch to backup network if primary fails",checked:n.failover_enabled,onChange:t=>r({...n,failover_enabled:t.currentTarget.checked})})}),e.jsx(z,{title:"Ethernet Configuration",icon:e.jsx(We,{size:20}),children:e.jsx(Be,{config:n.ethernet,onChange:t=>r({...n,ethernet:t})})}),e.jsx(z,{title:"WiFi Configuration",icon:e.jsx(Pe,{size:20}),children:e.jsx(Le,{config:n.wifi,onChange:t=>r({...n,wifi:t})})}),e.jsx(z,{title:"4G Modem Configuration",icon:e.jsx(Re,{size:20}),children:e.jsx(Oe,{config:n.modem,onChange:t=>r({...n,modem:t})})})]})]})};export{Ye as default};
